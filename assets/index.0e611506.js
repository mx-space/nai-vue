import{d as p,o as V,r as v,c as y,w as M,a as f,K as q,b as I,h as e,R as b,e as J,f as P,g as j,i as U,j as W,P as K,N as z,k,l as G,m as h,n as A,u as D,p as x,Q,q as Y,s as X,t as Z}from"./vendor.35bcd889.js";const ee=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}};ee();var L,N;const i={title:"\u68EE",subtitle:"\u8BB0\u5F55 \u751F\u6D3B\u4E2D\u7684\u60F3\u6CD5",website:"https://innei.in",footer:{info:['\u539F\u7AD9\u5DF2\u8FC1\u79FB\u5230 <a href="innei.in">innei.in</a>','<a href="http://beian.miit.gov.cn/" target="_blank" rel="noreferrer">\u6D59 ICP \u5907 20028356 \u53F7</a>']},apiBase:(N=(L={}.VITE_APP_APIBASE)==null?void 0:L.toString())!=null?N:"https://api.innei.ren/v2"};var C=(a,n)=>{const s=a.__vccOpts||a;for(const[o,t]of n)s[o]=t;return s};const te=p({setup(){V(()=>{document.title=`${i.title} | ${i.subtitle}`})}});function ne(a,n,s,o,t,r){const u=v("router-view");return f(),y(u,null,{default:M(({Component:c})=>[(f(),y(q,{exclude:["note-view"]},[(f(),y(I(c)))],1024))]),_:1})}var B=C(te,[["render",ne]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));const oe="modulepreload",F={},se="",ae=function(n,s){return!s||s.length===0?n():Promise.all(s.map(o=>{if(o=`${se}${o}`,o in F)return;F[o]=!0;const t=o.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const u=document.createElement("link");if(u.rel=t?"stylesheet":oe,t||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),t)return new Promise((c,g)=>{u.addEventListener("load",c),u.addEventListener("error",g)})})).then(()=>n())};const ue=p({setup(){return()=>e("header",{class:"header-wrapper"},e(b,{to:"/"},e("h1",null,i.title,e("small",null,i.subtitle))),e("div",{class:"links"},e(b,{to:"/about"},"About"),e("a",{href:i.website,target:"_blank"},"Website")))}}),ie=p({setup(){return()=>{const a=new Date().getFullYear();return e("footer",{class:"text-text-gray font-serif text-xs pb-6 block text-center space-y-3"},e("p",null,"Copyright \xA9 ",a," ",e("a",{href:i.website},"Innei"),". Powered by Vue 3."),i.footer.info.map(n=>e("p",{key:n,innerHTML:n})))}}});const le=p({components:{Header:ue,Footer:ie}}),ce={class:"wrap"};function pe(a,n,s,o,t,r){const u=v("Header"),c=v("Footer");return f(),J("div",ce,[P(u),j("main",null,[U(a.$slots,"default")]),P(c)])}var _=C(le,[["render",pe]]);const S={default:fetch};["GET","POST","PUT","DELETE","PATCH"].forEach(a=>{S[a.toLowerCase()]=(n,s)=>new Promise((o,t)=>{fetch(n,{method:a,body:(s==null?void 0:s.data)?JSON.stringify(s.data):void 0}).then(r=>r.json()).catch(r=>{t(r)}).then(r=>{o({data:r})}).catch(r=>{t(r)})})});const E=W(S)(i.apiBase,{controllers:[K,z]});customElements.define("markdown-render",class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}static get observedAttributes(){return["props"]}render(){const n=this.shadowRoot;n.innerHTML="";const s=this.getAttribute("props");if(!s)return;const o=JSON.parse(s),{style:t,body:r,script:u,link:c,extraScripts:g}=o,T=t.map(d=>{const l=document.createElement("style");return l.innerHTML=d||"",l}),H=u.map(d=>{const l=document.createElement("script");return l.innerHTML=d||"",l}),O=c.map(d=>{const l=document.createElement("link");return l.setAttribute("rel","stylesheet"),l.setAttribute("href",d||""),l}),R=g.map(d=>{const l=document.createElement("script");return l.setAttribute("src",d||""),l}),$=document.createElement("div");$.innerHTML=r[0]||"",n.append(...T,...H,...O,$,...R)}attributeChangedCallback(){this.render()}});const de=p({name:"note-view",setup(){const a=D(),n=parseInt(a.params.id),s=k({note:{}});G(()=>{document.title=`${i.title} | ${i.subtitle}`});const o=h(!1),t=h();return A(async()=>{o.value=!0;try{s.note=(await E.note.getNoteById(n)).data,document.title=s.note.title+" | "+i.title;const r=await E.proxy.markdown.render.structure(s.note.id).get({params:{theme:"github"}});t.value=r}catch(r){console.error(r)}finally{o.value=!1}}),()=>e(_,null,s.note.id&&o.value?e("div",{id:"html",class:"content-wrapper"},"Loading..."):e("markdown-render",{props:t.value?JSON.stringify(t.value):""}))}});const me=p({props:{notes:{type:Array,required:!0,default:()=>[]}},setup(a){return()=>e("ul",{class:"list-root"},a.notes.map(n=>{const s=new Date(n.created),o=s.getDate(),t=s.getMonth()+1;return e("li",{key:n.nid},e(b,{to:`/notes/${n.nid}`},e("span",{class:"title"},n.title),e("span",{class:"created"},`${t}/${o}`)))}))}});const fe=p({setup(){const a=h(!0),n=k({notes:[],pager:{hasNextPage:!1,hasPrevPage:!1,totalPage:1}}),s=D(),o=h(parseInt(s.query.page)||1);A(async()=>{await t(o.value)});const t=async(r=1,u=15)=>{const c=await E.note.getList(r,u);n.notes=c.data,n.pager=c.pagination,a.value=!1,o.value=r};return()=>e(_,null,e(me,{notes:n.notes}),!a.value&&e("div",{class:"pager"},e("div",{class:x("prev",!n.pager.hasPrevPage&&"disable"),onClick:()=>{if(!n.pager.hasPrevPage)return;const r=o.value-1;t(r),m.push({path:"/",query:{page:r}})}},"\u4E0A\u4E00\u9875"),e("div",{class:x("next",!n.pager.hasNextPage&&"disable"),onClick:()=>{if(!n.pager.hasNextPage)return;const r=o.value+1;t(r),m.push({path:"/",query:{page:r}})}},"\u4E0B\u4E00\u9875")))}});const he=p({setup(){return()=>e(_,null,e("article",{class:"page-wrapper"},e("h2",null,"This Site"),e("p",null,"Powered by Vue 3 &"),e("p",null,"Build with Vite"),e("h2",null,"And me"),e("p",null,"Undergraduate 2022"),e("p",null,"Wenzhou University of Technology(aka. \u6E29\u5DDE\u7406\u5DE5\u5B66\u9662)"),e("p",null,"TypeScript, NodeJS"),e("p",null,"NestJS, NextJS, NuxtJS, React, Vue, and more."),e("p",null,"Coding with love, to make something possible."),e("p",null,e("a",{href:"http://innei.ren",target:"_blank"},"Home Page"),e("a",{href:"http://github.com/innei",target:"_blank"},"GitHub"),e("a",{href:"http://innei.ren/feed",target:"_blank"},"RSS")),e("blockquote",{class:"mt-12"},e("p",null,"\u5E7B\u306A\u3093\u304B\u3058\u3083\u306A\u3044"),e("p",null,"\u4EBA\u751F\u306F\u5922\u3058\u3083\u306A\u3044"),e("p",null,"\u50D5\u9054\u306F\u306F\u3063\u304D\u308A\u3068\u751F\u304D\u3066\u308B\u3093\u3060"),e("p",null,"\u5915\u713C\u3051\u7A7A\u306F\u8D64\u3044 \u708E\u306E\u3088\u3046\u306B\u8D64\u3044 "),e("p",null,"\u3053\u306E\u661F\u306E\u534A\u5206\u3092\u771F\u3063\u8D64\u306B\u67D3\u3081\u305F"),e("p",null,"\u305D\u308C\u3088\u308A\u3082\u3082\u3063\u3068\u8D64\u3044\u8840\u304C"),e("p",null,"\u4F53\u4E2D\u3092\u6D41\u308C\u3066\u308B\u3093\u3060\u305C"))))}}),w=new Q,ge=[{name:"root",path:"/",component:()=>ae(()=>Promise.resolve().then(function(){return re}),void 0),children:[{path:"/",component:fe,meta:{title:i.title+" | "+i.subtitle,fulltitle:!0},name:"home"},{path:"/notes/:id",props:!0,component:de,meta:{title:""},name:"note"},{path:"/about",component:he,meta:{title:"\u5173\u4E8E"}}]}],m=Y({history:X(),routes:ge});m.beforeEach((a,n,s)=>{var o;w.start(),n.meta.title&&(document.title=(o=n.meta.fulltitle?n.meta.title:n.meta.title+" | "+i.title)!=null?o:""),s()});m.afterEach(()=>{w.finish()});m.onError(()=>{w.finish()});Z(B).use(m).mount("#app");
