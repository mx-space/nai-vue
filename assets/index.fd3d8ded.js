import{d as p,o as q,c as v,w as M,r as y,a as m,K as I,b as J,h as e,R as b,e as j,f as A,g as U,i as W,j as K,P as z,N as G,u as k,k as x,l as Q,m as h,n as C,p as S,Q as Y,q as X,s as Z,t as ee}from"./vendor.35bcd889.js";const te=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}};te();var F,T;const l={title:"\u68EE",subtitle:"\u5BFB\u7684\u788E\u788E\u5FF5",website:"https://innei.ren",apiBase:(T=(F={}.VITE_APP_APIBASE)==null?void 0:F.toString())!=null?T:"https://api.innei.ren/v2"};var B=(a,r)=>{const o=a.__vccOpts||a;for(const[s,t]of r)o[s]=t;return o};const ne=p({setup(){q(()=>{document.title=`${l.title} | ${l.subtitle}`})}});function re(a,r,o,s,t,n){const u=y("router-view");return m(),v(u,null,{default:M(({Component:c})=>[(m(),v(I,{exclude:["note-view"]},[(m(),v(J(c)))],1024))]),_:1})}var D=B(ne,[["render",re]]),se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:D});const oe="modulepreload",L={},ae="",ue=function(r,o){return!o||o.length===0?r():Promise.all(o.map(s=>{if(s=`${ae}${s}`,s in L)return;L[s]=!0;const t=s.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const u=document.createElement("link");if(u.rel=t?"stylesheet":oe,t||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),t)return new Promise((c,g)=>{u.addEventListener("load",c),u.addEventListener("error",g)})})).then(()=>r())};const le=p({setup(){return()=>e("header",{class:"header-wrapper"},e(b,{to:"/"},e("h1",null,l.title,e("small",null,l.subtitle))),e("div",{class:"links"},e(b,{to:"/about"},"About"),e("a",{href:l.website,target:"_blank"},"Website")))}}),ie=p({setup(){return()=>{const a=new Date().getFullYear();return e("a",{href:l.website},e("footer",{class:"text-text-gray font-serif text-xs pb-6 block text-center"},"Copyright \xA9 ",a," Innei. Powered by Vue 3."))}}});const ce=p({components:{Header:le,Footer:ie}}),pe={class:"wrap"};function de(a,r,o,s,t,n){const u=y("Header"),c=y("Footer");return m(),j("div",pe,[A(u),U("main",null,[W(a.$slots,"default")]),A(c)])}var _=B(ce,[["render",de]]);const N={default:fetch};["GET","POST","PUT","DELETE","PATCH"].forEach(a=>{N[a.toLowerCase()]=(r,o)=>new Promise((s,t)=>{fetch(r,{method:a,body:(o==null?void 0:o.data)?JSON.stringify(o.data):void 0}).then(n=>n.json()).catch(n=>{t(n)}).then(n=>{s({data:n})}).catch(n=>{t(n)})})});const E=K(N)(l.apiBase,{controllers:[z,G]});customElements.define("markdown-render",class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}static get observedAttributes(){return["props"]}render(){const r=this.shadowRoot;r.innerHTML="";const o=this.getAttribute("props");if(!o)return;const s=JSON.parse(o),{style:t,body:n,script:u,link:c,extraScripts:g}=s,H=t.map(d=>{const i=document.createElement("style");return i.innerHTML=d||"",i}),O=u.map(d=>{const i=document.createElement("script");return i.innerHTML=d||"",i}),R=c.map(d=>{const i=document.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",d||""),i}),V=g.map(d=>{const i=document.createElement("script");return i.setAttribute("src",d||""),i}),P=document.createElement("div");P.innerHTML=n[0]||"",r.append(...H,...O,...R,P,...V)}attributeChangedCallback(){this.render()}});const me=p({name:"note-view",setup(){const a=k(),r=parseInt(a.params.id),o=x({note:{}});Q(()=>{document.title=`${l.title} | ${l.subtitle}`});const s=h(!1),t=h();return C(async()=>{s.value=!0;try{o.note=(await E.note.getNoteById(r)).data,document.title=o.note.title+" | "+l.title;const n=await E.proxy.markdown.render.structure(o.note.id).get({params:{theme:"github"}});t.value=n}catch(n){console.error(n)}finally{s.value=!1}}),()=>e(_,null,o.note.id&&s.value?e("div",{id:"html",class:"content-wrapper"},"Loading..."):e("markdown-render",{props:t.value?JSON.stringify(t.value):""}))}});const he=p({props:{notes:{type:Array,required:!0,default:()=>[]}},setup(a){return()=>e("ul",{class:"list-root"},a.notes.map(r=>{const o=new Date(r.created),s=o.getDate(),t=o.getMonth()+1;return e("li",{key:r.nid},e(b,{to:`/notes/${r.nid}`},e("span",{class:"title"},r.title),e("span",{class:"created"},`${t}/${s}`)))}))}});const fe=p({setup(){const a=h(!0),r=x({notes:[],pager:{hasNextPage:!1,hasPrevPage:!1,totalPage:1}}),o=k(),s=h(parseInt(o.query.page)||1);C(async()=>{await t(s.value)});const t=async(n=1,u=15)=>{const c=await E.note.getList(n,u);r.notes=c.data,r.pager=c.pagination,a.value=!1,s.value=n};return()=>e(_,null,e(he,{notes:r.notes}),!a.value&&e("div",{class:"pager"},e("div",{class:S("prev",!r.pager.hasPrevPage&&"disable"),onClick:()=>{if(!r.pager.hasPrevPage)return;const n=s.value-1;t(n),$.push({path:"/",query:{page:n}})}},"\u4E0A\u4E00\u9875"),e("div",{class:S("next",!r.pager.hasNextPage&&"disable"),onClick:()=>{if(!r.pager.hasNextPage)return;const n=s.value+1;t(n),$.push({path:"/",query:{page:n}})}},"\u4E0B\u4E00\u9875")))}});const ge=p({setup(){return()=>e(_,null,e("article",{class:"page-wrapper"},e("h2",null,"This Site"),e("p",null,"Powered by Vue 3 &"),e("p",null,"Build with Vite"),e("h2",null,"And me"),e("p",null,"Undergraduate 2022"),e("p",null,"Wenzhou University of Technology(aka. \u6E29\u5DDE\u7406\u5DE5\u5B66\u9662)"),e("p",null,"TypeScript, NodeJS"),e("p",null,"NestJS, NextJS, NuxtJS, React, Vue, and more."),e("p",null,"Coding with love, to make something possible."),e("p",null,e("a",{href:"http://innei.ren",target:"_blank"},"Home Page"),e("a",{href:"http://github.com/innei",target:"_blank"},"GitHub"),e("a",{href:"http://innei.ren/feed",target:"_blank"},"RSS")),e("blockquote",{class:"mt-12"},e("p",null,"\u5E7B\u306A\u3093\u304B\u3058\u3083\u306A\u3044"),e("p",null,"\u4EBA\u751F\u306F\u5922\u3058\u3083\u306A\u3044"),e("p",null,"\u50D5\u9054\u306F\u306F\u3063\u304D\u308A\u3068\u751F\u304D\u3066\u308B\u3093\u3060"),e("p",null,"\u5915\u713C\u3051\u7A7A\u306F\u8D64\u3044 \u708E\u306E\u3088\u3046\u306B\u8D64\u3044 "),e("p",null,"\u3053\u306E\u661F\u306E\u534A\u5206\u3092\u771F\u3063\u8D64\u306B\u67D3\u3081\u305F"),e("p",null,"\u305D\u308C\u3088\u308A\u3082\u3082\u3063\u3068\u8D64\u3044\u8840\u304C"),e("p",null,"\u4F53\u4E2D\u3092\u6D41\u308C\u3066\u308B\u3093\u3060\u305C"))))}}),w=new Y,ve=[{name:"root",path:"/",component:()=>ue(()=>Promise.resolve().then(function(){return se}),void 0),children:[{path:"/",component:fe,meta:{title:l.title+" | "+l.subtitle,fulltitle:!0},name:"home"},{path:"/notes/:id",props:!0,component:me,meta:{title:""},name:"note"},{path:"/about",component:ge,meta:{title:"\u5173\u4E8E"}}]}],f=X({history:Z(),routes:ve});f.beforeEach((a,r,o)=>{var s;w.start(),r.meta.title&&(document.title=(s=r.meta.fulltitle?r.meta.title:r.meta.title+" | "+l.title)!=null?s:""),o()});f.afterEach(()=>{w.finish()});f.onError(()=>{w.finish()});var $=f;ee(D).use($).mount("#app");
